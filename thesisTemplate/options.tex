%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Layout
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{geometry}
\geometry{a4paper,left=40mm,right=30mm, top=2cm, bottom=3cm}
\oddsidemargin=-1cm
\setlength{\textwidth}{16cm}
\setlength{\textheight}{22cm}
\setlength{\headheight}{12.6pt}
\setlength{\topmargin}{0pt}
\setlength{\oddsidemargin}{8mm}



%% Language %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[T1]{fontenc}		% font encoding
\usepackage[utf8]{inputenc}		% input encoding
\usepackage{lmodern}			% fonts
\usepackage[naustrian,greek,english]{babel}
\selectlanguage{english}


%% Packages for Graphics & Figures %%%%%%%%%%%%%%%%%%%%%%%%%%

% use predefined colours
% see http://en.wikibooks.org/wiki/LaTeX/Colors
\usepackage[usenames,dvipsnames]{xcolor} % provides colours
% define some colors
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{DarkGrey}{rgb}{0.1,0.1,0.1}
\definecolor{magenta}{rgb}{0.79216,0.12156,0.48236}

\usepackage[pdftex]{graphicx}
\usepackage{tikz,pgfplots}		% provides TikZ
%\pgfplotsset{compat=1.10}
%\usetikzlibrary{arrows.meta}



% variables used with matlab2tikz
\newlength\figureheight
\newlength\figurewidth

% introduce the file extension *.1 to latex
\DeclareGraphicsRule{.1}{mps}{.1}{}

\usepackage{subfig}				% provides subfloat



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Mathematics
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Math Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}

\usepackage[squaren]{SIunits}	% provides \metre, etc.


%% Nomenclature %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[intoc]{nomencl}
\makenomenclature

% D	dimensionless numbers: 		symbol, description, definition
% G	Greek symbols				symbol, description, unit
% L	Latin (Roman) symbols		symbol, description, unit
% X	Other?						symbol, description, unit
% U	subscripts					symbol, description
% S	superscripts				symbol, description
% O	oversymbols					symbol, description

%\setlength{\nomitemsep}{-\parsep}
   \RequirePackage{ifthen}
   \renewcommand{\nomgroup}[1]{%
     \ifthenelse{\equal{#1}{G}}{\item[]\item[\Large\textbf{Greek Symbols}]}{%
       \ifthenelse{\equal{#1}{L}}{\item[]\item[\Large\textbf{Latin Symbols}]}{%
         \ifthenelse{\equal{#1}{D}}{\item[]\item[\Large\textbf{Dimensionless Groups}]}{
         	\ifthenelse{\equal{#1}{X}}{\item[]\item[\Large\textbf{Other Symbols}]}{
         	  \ifthenelse{\equal{#1}{U}}{\item[]\item[\Large\textbf{Subscripts}]}{
         	    \ifthenelse{\equal{#1}{S}}{\item[]\item[\Large\textbf{Superscripts}]}{
         	      \ifthenelse{\equal{#1}{O}}{\item[]\item[\Large\textbf{Oversymbols}]}{}
         	      }}}}}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% User-defined commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usepackage{titlepage}	%includes definition for titlepage



%----- correct SWP30 error with brackets under equations
%\newcommand{\stackunder}{\underset} % test




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Header and Footer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}	%nice headings

% define plain style
\fancypagestyle{plain}
{%
    \fancyhf{}	% clear predefined stuff
    \fancyfoot[C]{-- \thepage\ --}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}

% define mainmatter style
\fancypagestyle{mainmatter}{%
  \renewcommand{\headrulewidth}{.4pt}% Header rule
  \fancyhf{}% Clear header/footer
  \fancyhead[L]{\textsc{\leftmark}}% Chapter in header Left
  \fancyhead[R]{\textsl{\rightmark}}% Page number in header Right
  \fancyfoot[C]{-- \thepage\ --}
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Document syle, layout, features
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% bring automagically the bibliography, the lists of Figures and Tables 
% and the nomenclature into the TOC
\usepackage[nottoc]{tocbibind}

\usepackage{todonotes}	% provides todo

% creates compilation warning messages
\usepackage{etoolbox}
\makeatletter
\pretocmd{\@todo}{\GenericWarning{}{TODO: There's something to do here}}{}{}
\makeatother


\usepackage[numbers,sort&compress]{natbib}	% provides citeauthor, etc.


\usepackage{xfrac}		% provides \sfrac for slanted fractions

\usepackage{booktabs}	% provides nice tables
\usepackage{array}		% for use of \multicolumn in tables


\usepackage{longtable}	% provides tables over several pages; used for CV





\usepackage{multicol}

% options:
%	footnote
%\usepackage[printonlyused,nohyperlinks]{acronym}	% provides the acronym handling
\usepackage[printonlyused,footnote]{acronym}	% provides the acronym handling


\usepackage{epigraph}	% provides environment for smart things to say
\setlength{\epigraphrule}{1pt}
\setlength{\epigraphwidth}{0.45\textwidth}


\usepackage{hyperref}
\hypersetup{
	pdfpagelabels,
	colorlinks=true,
	linkcolor=blue,
	urlcolor=blue,
	citecolor=green
}

% Enable use of \eqref in \section commands
% http://tex.stackexchange.com/questions/147904/eqref-inside-section
\pdfstringdefDisableCommands{\def\eqref#1{(\ref{#1})}}



\usepackage{wasysym}	% provides symbols

% it is important to load cleveref last
%	capitalise		Eq. 1 instead of eq. 1
%	noabbrev		equation 1 instead of eq. 1
\usepackage[capitalise,noabbrev]{cleveref}	% provides cref, etc.

% textcase
% 	resolves problem with acronym in capitalised headings
% 	http://tex.stackexchange.com/questions/65806/acronyms-in-section-names-with-classic-thesis
\usepackage[overload]{textcase}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Listings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}

% define general style
\lstdefinestyle{defaultStyle}
{
  basicstyle=\footnotesize,
  tabsize=2,
  captionpos=b,
  frame=lines,
  breaklines=true,
  keepspaces=true
}

% define C++ style
\lstdefinestyle{cppStyle}
{
  style=defaultStyle,
  % language related
  language=C++,
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  showstringspaces=false,
  %otherkeywords={\#include}, % do not uncomment!
  % numbering
  numbers=left,
  numberstyle=\tiny
}

% define C++ style without line numbers
\lstdefinestyle{cppStyleNoNum}
{
  style=cppStyle,
  numbers=none
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% User-defined commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% text mode commands
\newcommand{\RM}[1]{\MakeUppercase{\romannumeral #1}} 

% math, here the command ensuremath is missing. Bad teacher!
\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\total}{\mathrm{D}}
\newcommand{\mat}[1]{\mathbf{#1}}

% avoid conflicts
\DeclareMathOperator{\Tsym}{sym}
\DeclareMathOperator{\Tskew}{skew}


\DeclareMathOperator{\dev}{dev}
\DeclareMathOperator{\tr}{tr}

\DeclareRobustCommand{\orderof}{\ensuremath{\mathcal{O}}}

\newcommand*{\mycdot}{\kern-.2em\cdot\kern-.2em}

\usepackage{bm} % provides bold math symbols (italic, greek, etc.)
%\newcommand{\vect}[1]{\boldsymbol{\mathbf{#1}}} % obsolete; use \bm


% formatting

\newenvironment{mydescription}{%
   \renewcommand\descriptionlabel[1]{\hspace{\labelsep}\textit{##1}}
   \begin{description}%
}{%
   \end{description}%
}

\newenvironment{mymathdescription}{%
   \renewcommand\descriptionlabel[1]{\hspace{\labelsep}##1}
   \begin{description}%
}{%
   \end{description}%
}

\newenvironment{myquote}{%
   \begin{quote}%
   \em
}{%
   \end{quote}%
}


% graphics
\newcommand{\inputTikZ}[2]{\scalebox{#1}{\input{#2}}} % used for tikz schematic images


